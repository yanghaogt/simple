<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.syg.manage.dao.manage.DkpUserMpr">
	<select id="queryAll" resultType="DkpUser">
	SELECT * FROM dkp_user
	</select>
	
	<select id="queryByUserName" resultType="DkpUser">
	SELECT * FROM dkp_user WHERE user_name = #{userName}
	</select>
	
	<select id="queryByDuId" resultType="DkpUser">
	SELECT * FROM dkp_user WHERE du_id = #{duId}
	</select>
	
	<select id="queryListPageSearch" resultType="DkpUser">
	SELECT * FROM dkp_user
	<bind name="MbValid" value="@com.syg.manage.util.MbValid@instance()"/>
	<where>
		<if test="MbValid.str(example.userName)">
		and user_name = #{example.userName}
		</if>
		<if test="MbValid.noZero(example.userDkp)">
		and user_dkp = #{example.userDkp}
		</if>
		<if test="MbValid.shDateBegin(example.createTimeSh)">
		and create_time &gt;= #{example.createTimeSh.begin}
		</if>
		<if test="MbValid.shDateEnd(example.createTimeSh)">
		and create_time &lt;= #{example.createTimeSh.end}
		</if>
	</where>
	</select>
	
	<insert id="saveItem" parameterType="DkpUser" useGeneratedKeys="true">
			INSERT INTO dkp_user 
			(
				user_name,
				pass_word,
				create_time

			)VALUES
			(
				#{userName},
				#{passWord},
				#{createTime}
			)
	</insert>
	<update id="updateItem">
		UPDATE dkp_user
		SET
			pass_word = #{passWord}
		WHERE
			du_id=#{duId}
	</update>
	<update id="updateDkp">
		UPDATE dkp_user
		SET
			user_dkp = #{userDkp}
		WHERE
			du_id=#{duId}
	</update>
</mapper>