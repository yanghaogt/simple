<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.syg.manage.dao.manage.MailMpr">

	<insert id="saveItem" parameterType="Mail" useGeneratedKeys="true">
			INSERT INTO mail 
			(
				title,
				content,
				send_time,
				email
			)VALUES
			(
				#{title},
				#{content},
				#{sendTime},
				#{email}
			)
	</insert>
	
	<select id="queryListPageSearch" resultType="Mail">
	SELECT * FROM mail
		<where>
		<bind name="MbValid" value="@com.syg.manage.util.MbValid@instance()"/>
		<if test="MbValid.str(example.title)">title = #{example.title}</if>
		<if test="MbValid.str(example.content)">and content = #{example.content}</if>
		<if test="MbValid.shDateBegin(example.sendTimeSh)">and send_time &gt;= #{example.sendTimeSh.begin}</if>
		<if test="MbValid.shDateEnd(example.sendTimeSh)">and send_time &lt;= #{example.sendTimeSh.end}</if>
		<if test="MbValid.str(example.email)">and email &lt;= #{example.email}</if>
		</where>
	</select>
	
</mapper>